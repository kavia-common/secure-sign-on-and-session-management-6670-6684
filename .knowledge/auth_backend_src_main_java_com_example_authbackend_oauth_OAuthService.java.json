{"is_source_file": true, "format": "Java", "description": "This Java source file defines the OAuthService class, which manages OAuth2 login flows with various providers, handles the callback process, fetches user info, and issues JWT tokens for authenticated users.", "external_files": ["com.example.authbackend.config.OAuthProperties", "com.example.authbackend.security.JwtService", "com.example.authbackend.user.User", "com.example.authbackend.user.UserRepository", "org.springframework.stereotype.Service", "org.springframework.web.util.UriComponentsBuilder"], "external_methods": ["registry.get(String)", "client.isConfigured()", "client.buildAuthorizationUrl(String)", "client.exchangeCodeForToken(String, String)", "client.fetchUserInfo(Map<String, Object>)", "users.findByProviderAndProviderUserId(String, String)", "users.save(User)", "jwtService.generate(String, Map<String, Object>)"], "published": ["buildLoginRedirect", "handleCallback", "buildCallbackUrl"], "classes": [{"name": "OAuthService", "description": "Service class coordinating OAuth2 login flow, user info fetching, and JWT issuance."}], "methods": [{"name": "buildLoginRedirect", "description": "Generates the OAuth provider login URL with redirect parameters."}, {"name": "handleCallback", "description": "Processes OAuth callback, retrieves user info, updates or creates user record, and generates JWT token."}, {"name": "buildCallbackUrl", "description": "Constructs the callback URL for OAuth providers based on configuration."}, {"name": "stringOrNull", "description": "Utility method to convert an object to string or null if object is null."}], "calls": ["registry.get", "client.isConfigured", "client.buildAuthorizationUrl", "buildCallbackUrl", "client.exchangeCodeForToken", "client.fetchUserInfo", "users.findByProviderAndProviderUserId", "users.save", "jwtService.generate"], "search-terms": ["OAuthService", "buildLoginRedirect", "handleCallback", "exchangeCodeForToken", "fetchUserInfo", "JWT", "OAuth2 login flow"], "state": 2, "file_id": 16, "knowledge_revision": 55, "git_revision": "", "revision_history": [{"36": ""}, {"55": ""}], "hash": "d5342eadf5d6dd3324d67a511eae399c", "format-version": 4, "code-base-name": "auth_backend", "filename": "auth_backend/src/main/java/com/example/authbackend/oauth/OAuthService.java"}